# build a CPack driven installer package

# set(CMAKE_INSTALL_SYSTEM_RUNTIME_LIBS "${INCLUDE_DIRECTORIES}")
# include(InstallRequiredSystemLibraries)

if(NOT DEFINED SUMO_HOME)
    set(SUMO_HOME ${CMAKE_CURRENT_SOURCE_DIR})
endif(NOT DEFINED SUMO_HOME)

set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "Eclipse Simulation of Urban Mobility - A Microscopic Traffic Simulation")
set(CPACK_RESOURCE_FILE_LICENSE "${SUMO_HOME}/LICENSE")
set(CPACK_RESOURCE_FILE_README "${SUMO_HOME}/README.md")
set(CPACK_PACKAGE_VERSION "${PACKAGE_VERSION}")

message(STATUS "CPACK_GENERATOR: " ${CPACK_GENERATOR})

if("${CPACK_GENERATOR}" STREQUAL "ZIP")
    set(CPACK_PACKAGE_INSTALL_DIRECTORY "sumo-${CPACK_SYSTEM_NAME}-${PACKAGE_VERSION}")
    set(CPACK_INCLUDE_TOPLEVEL_DIRECTORY "1")
    set(CPACK_STRIP_FILES true)
endif()

include(CPack)
